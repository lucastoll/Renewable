<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
  <!-- NAVBAR -->
  <link rel="stylesheet" href="assets/css/questionario/questionario.css">
  <!-- QUESTIONARIO -->
  <link rel="stylesheet" href="assets/css/navbar/navbar.css">
  <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
  <link rel="icon" href="assets/img/icon.png">
  <title>Renewable</title>
</head>

<body>
  <nav>
    <div class="navbar">
        <i class='bx bx-menu'></i>
        <div class="logo"><a href="index.html">Renewable</a></div>
        <div class="nav-links">
        <div class="sidebar-logo">
            <span class="logo-name">Renewable</span>
            <i class='bx bx-x'></i>
        </div>
        <ul class="links">
            <li><a href="index.html#introducao">INTRODU√á√ÉO</a></li>
            <li class="liClick">
                <a href="#">ENERGIAS</a>
                <i style="height: auto;" class='bx bxs-chevron-down htmlcss-arrow arrow'></i> <!-- @ -->
                <ul class="htmlCss-sub-menu sub-menu">
                    <li><a href="index.html#hidrica">ENERGIA H√çDRICA</a></li>
                    <li><a href="index.html#eolica">ENERGIA E√ìLICA</a></li>
                    <li><a href="index.html#solar">ENERGIA SOLAR</a></li>
                    <li><a href="index.html#biomassa">ENERGIA DA BIOMASSA</a></li>
                    <li><a href="index.html#geotermica">ENERGIA GEOT√âRMICA</a></li>
                    <li><a href="index.html#maremotriz">ENERGIA MAREMOTRIZ</a></li>
                </ul>
            </li>
            <li><a href="questionario.html">QUESTION√ÅRIO</a></li>
            <li><a href="projetos.html">PROJETOS</a></li>
        </ul>
        </div>

    </div>
  </nav>
  <script src="assets/js/navbar.js"></script>

  <main class="container">	
    <div class="row">
  	  <div class="two-thirds column">
        <h2 class="tituloQuestionario">Question√°rio</h2>

        <div id="progress_bar"></div>
  	  	<form class="questions_box" id="my-form" action="https://formspree.io/f/meqnrvez" method="POST">

          <div id="question-0">
  	  		  <h2>Bem-vindo(a)</h2>
  	  			<h3>Teste seus conhecimentos sobre as energias que v√£o ditar o futuro da nossa sociedade e contribua com a valida√ß√£o do nosso projeto üíö.</h3>
  				  <div id="submit0" class="button button0">Iniciar quiz.</div>
  			  </div>

  	  		<div id="question-1">
  	  		  <h2>Quest√£o 1</h2>
  	  			<h3>Que tipo de energia √© respons√°vel pela maior parte da gera√ß√£o de energia no Brasil?</h3>
            <div style="display: flex; flex-direction: column;">
              <div class="opcao"><input id="question-1-answer-b" type="radio" name="favelang" value="1"> Energia hidr√≠ca</div>
              <div class="opcao"><input id="question-1-answer-a" type="radio" name="favelang" value="0"> Energia solar</div>
              <div class="opcao"><input id="question-1-answer-c" type="radio" name="favelang" value="0"> Energia e√≥lica</div>
              <div class="opcao"><input id="question-1-answer-d" type="radio" name="favelang" value="0"> Energias n√£o renov√°veis</div>
            </div>
  				  <div id="submit1" class="button">Enviar resposta</div>
  			  </div>

  			 <div id="question-2">
  				 <h2>Quest√£o 2</h2>
           <h3>Que tipo de energia √© respons√°vel pela maior parte da gera√ß√£o de energia no Brasil?</h3>
           <div style="display: flex; flex-direction: column;">
             <div class="opcao"><input id="question-2-answer-b" type="radio" name="favelang" value="1"> Energia hidr√≠ca</div>
             <div class="opcao"><input id="question-2-answer-a" type="radio" name="favelang" value="0"> Energia solar</div>
             <div class="opcao"><input id="question-2-answer-c" type="radio" name="favelang" value="0"> Energia e√≥lica</div>
             <div class="opcao"><input id="question-2-answer-d" type="radio" name="favelang" value="0"> Energias n√£o renov√°veis</div>
           </div>
           <div id="submit2" class="button">Enviar resposta</div>
  			 </div>
  			
  			 <div id="question-3">	
  				 <h2>Quest√£o 3</h2>
           <h3>Que tipo de energia √© respons√°vel pela maior parte da gera√ß√£o de energia no Brasil?</h3>
           <div style="display: flex; flex-direction: column;">
             <div class="opcao"><input id="question-3-answer-b" type="radio" name="favelang" value="1"> Energia hidr√≠ca</div>
             <div class="opcao"><input id="question-3-answer-a" type="radio" name="favelang" value="0"> Energia solar</div>
             <div class="opcao"><input id="question-3-answer-c" type="radio" name="favelang" value="0"> Energia e√≥lica</div>
             <div class="opcao"><input id="question-3-answer-d" type="radio" name="favelang" value="0"> Energias n√£o renov√°veis</div>
           </div>
           <div id="submit3" class="button">Enviar resposta</div>
  			 </div>

         <div id="question-4">
            <h2>Quest√£o 4</h2>
            <h3>Que tipo de energia √© respons√°vel pela maior parte da gera√ß√£o de energia no Brasil?</h3>
            <div style="display: flex; flex-direction: column;">
              <div class="opcao"><input id="question-4-answer-b" type="radio" name="favelang" value="1"> Energia hidr√≠ca</div>
              <div class="opcao"><input id="question-4-answer-a" type="radio" name="favelang" value="0"> Energia solar</div>
              <div class="opcao"><input id="question-4-answer-c" type="radio" name="favelang" value="0"> Energia e√≥lica</div>
              <div class="opcao"><input id="question-4-answer-d" type="radio" name="favelang" value="0"> Energias n√£o renov√°veis</div>
            </div>
  				  <div id="submit4" class="button">Enviar resposta</div>
          </div>

          <div id="question-5">
            <h2>Quest√£o 5</h2>
            <h3>Que tipo de energia √© respons√°vel pela maior parte da gera√ß√£o de energia no Brasil?</h3>
            <div style="display: flex; flex-direction: column;">
              <div class="opcao"><input id="question-5-answer-b" type="radio" name="favelang" value="1"> Energia hidr√≠ca</div>
              <div class="opcao"><input id="question-5-answer-a" type="radio" name="favelang" value="0"> Energia solar</div>
              <div class="opcao"><input id="question-5-answer-c" type="radio" name="favelang" value="0"> Energia e√≥lica</div>
              <div class="opcao"><input id="question-5-answer-d" type="radio" name="favelang" value="0"> Energias n√£o renov√°veis</div>
            </div>
  				  <div id="submit5" class="button">Enviar resposta</div>
          </div>

         <div id="question-6"> 
           <h2>Fim do quiz.</h2>
           <h3>Repostas corretas: </h3>
           <input style="display: none;" id="somafinal" type="text" name="RepostasCorretas" value="0">
           <h1 id=printtotalscore></h1>
           <p id=printscoreinfo></p>
           <button style="align-self: center;" type="submit" id="submit5" class="button">Enviar resultados</button>
           <p id="my-form-status" class="infoScoreP"></p>
         </div>
  	  	</form>

  	  </div>
  	</div>
  </main>

</body>
</html>

<script src="assets/js/questionario.js"></script>
<script>
var form = document.getElementById("my-form");

async function handleSubmit(event) {
  event.preventDefault();
  var status = document.getElementById("my-form-status");
  var data = new FormData(event.target);
  fetch(event.target.action, {
    method: form.method,
    body: data,
    headers: {
        'Accept': 'application/json'
    }
  }).then(response => {
    if (response.ok) {
      status.innerHTML = "Obrigado por visitar nosso site!!, seus resultados foram enviados aos desenvolvedores.";
      form.reset()
    } else {
      response.json().then(data => {
        if (Object.hasOwn(data, 'errors')) {
          status.innerHTML = data["errors"].map(error => error["message"]).join(", ")
        } else {
          status.innerHTML = "Oops! ocorreu um erro ao enviar seus resultados, por favor contate os desenvolvedores"
        }
      })
    }
  }).catch(error => {
    status.innerHTML = "Oops! ocorreu um erro ao enviar seus resultados, por favor contate os desenvolvedores"
  });
}
form.addEventListener("submit", handleSubmit)
</script>